webpackJsonp([10],{"96IA":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("NYxO"),s("eMjc");var r=s("P9l9"),a=s("i7Lb"),i={mixins:[a.a],props:{indexKey:{type:Number}},data:function(){return{answer:["1","2"],answerList:this.$parent.$parent.judgeArray[this.indexKey-1]}},created:function(){},mounted:function(){},methods:{}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",[s("el-form",{attrs:{model:e.answerList,"label-width":"100px"}},[s("el-row",[s("el-col",[s("p",{staticClass:"lettleTitle"},[e._v(e._s(e.indexKey)+".")])]),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目:"}},[s("P",[e._v(e._s(e.answerList.name))])],1)],1),e._v(" "),e._l(Object.keys(e.answerList.list),function(t,r){return s("el-col",{key:"single"+r,attrs:{span:16}},[s("el-form-item",{attrs:{label:t+":"}},[s("P",[e._v(e._s(e.answerList.list[t]))])],1)],1)}),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"学生答案:"}},[s("P",[e._v(e._s(e.answerList.useranswer))])],1)],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"答案:"}},[s("P",[e._v(e._s(e.answerList.answer))])],1)],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目分值:"}},[s("P",[e._v(e._s(e.answerList.score))])],1)],1)],2)],1)],1)},staticRenderFns:[]},l=s("VU/8")(i,n,!1,null,null,null).exports,o={mixins:[a.a],props:{indexKey:{type:Number}},data:function(){return{answer:["A","B","C","D","E"],answerList:this.$parent.$parent.multipleChoiceArray[this.indexKey-1]}},created:function(){},mounted:function(){},methods:{_collect:function(e){var t={collectObj:e,userId:sessionStorage.getItem("userId")};collect(t).then(function(e){})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",[s("el-form",{attrs:{model:e.answerList,"label-width":"100px"}},[s("el-row",[s("el-col",[s("p",{staticClass:"lettleTitle"},[e._v(e._s(e.indexKey)+".")])]),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目:"}},[s("p",[e._v(e._s(e.answerList.name))])])],1),e._v(" "),e._l(Object.keys(e.answerList.list),function(t,r){return s("el-col",{key:"single"+r,attrs:{span:16}},[s("el-form-item",{attrs:{label:t+":"}},[s("p",[e._v(e._s(e.answerList.list[t]))])])],1)}),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"学生答案:"}},[s("P",[e._v(e._s(e.answerList.useranswer))])],1)],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"答案:"}},[s("P",[e._v(e._s(e.answerList.answer))])],1)],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目分值:"}},[s("p",[e._v(e._s(e.answerList.score))])])],1)],2)],1)],1)},staticRenderFns:[]},u=s("VU/8")(o,c,!1,null,null,null).exports,p={mixins:[a.a],props:{indexKey:{type:Number}},data:function(){return{answer:["A","B","C","D"],answerList:this.$parent.$parent.singleChoiceArray[this.indexKey-1]}},created:function(){},mounted:function(){},methods:{}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",[s("el-form",{attrs:{model:e.answerList,"label-width":"100px"}},[s("el-row",[s("el-col",[s("p",{staticClass:"lettleTitle"},[e._v(e._s(e.indexKey)+".")])]),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目:"}},[s("p",[e._v(e._s(e.answerList.name))])])],1),e._v(" "),e._l(Object.keys(e.answerList.list),function(t,r){return s("el-col",{key:"single"+r,attrs:{span:16}},[s("el-form-item",{attrs:{label:t+":"}},[s("p",[e._v(e._s(e.answerList.list[t]))])])],1)}),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"学生答案:"}},[s("P",[e._v(e._s(e.answerList.useranswer))])],1)],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"答案:"}},[s("P",[e._v(e._s(e.answerList.answer))])],1)],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目分值:"}},[s("p",[e._v(e._s(e.answerList.score))])])],1)],2)],1)],1)},staticRenderFns:[]},d=s("VU/8")(p,m,!1,null,null,null).exports,h={mixins:[a.a],props:{indexKey:{type:Number}},data:function(){return{answerList:this.$parent.$parent.subJectiveArray[this.indexKey-1]}},created:function(){},mounted:function(){},methods:{}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",[s("el-form",{attrs:{model:e.answerList,"label-width":"100px"}},[s("el-row",[s("el-col",[s("p",{staticClass:"lettleTitle"},[e._v(e._s(e.indexKey)+".")])]),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目:"}},[s("p",[e._v(e._s(e.answerList.name))])])],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"答案:"}},[s("p",[e._v(e._s(e.answerList.useranswer))])])],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"题目分值:"}},[s("p",[e._v(e._s(e.answerList.score))])])],1),e._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"分数:"}},[s("el-input",{model:{value:e.answerList.teacherScore,callback:function(t){e.$set(e.answerList,"teacherScore",t)},expression:"answerList.teacherScore"}})],1)],1)],1)],1)],1)},staticRenderFns:[]},f={props:{},components:{"x-judge":l,"x-multiple-choice":u,"x-single-choice":d,"x-sub-jective":s("VU/8")(h,_,!1,null,null,null).exports},data:function(){return{singleChoiceArray:[],multipleChoiceArray:[],judgeArray:[],subJectiveArray:[],testpaperList:{name:"",time:"",score:"",studentScore:0,classScore:0},answerArr:[],full:1,dialogVisible:!1,photoVisible:!1,fencheng:{student:"",class:""}}},mounted:function(){this.echo()},methods:{echo:function(){if(this.$route.params.data){var e=JSON.parse(this.$route.params.data);this.singleChoiceArray=e.answerList.singleChoiceArray,this.multipleChoiceArray=e.answerList.multipleChoiceArray,this.judgeArray=e.answerList.judgeArray,this.subJectiveArray=e.answerList.subJectiveArray,this.answerArr=e.answerArr,this.testpaperList={name:e.name,time:e.time,score:e.score,studentScore:0,classScore:0}}},sureScore:function(){this.setScore(),this.fencheng.student=0,this.testpaperList.classScore=0,this.fencheng.class=0,this.dialogVisible=!0},zuobi:function(){this.testpaperList.studentScore=0,this.fencheng.student=0,this.testpaperList.classScore=0,this.fencheng.class=0,this.dialogVisible=!0},setScore:function(){var e=0;this.singleChoiceArray.forEach(function(t){t.useranswer===t.answer&&(e+=1*t.score)}),this.multipleChoiceArray.forEach(function(t){t.useranswer.sort().toString()===t.answer.sort().toString()&&(e+=1*t.score)}),this.judgeArray.forEach(function(t){t.useranswer===t.answer&&(e+=1*t.score)}),this.subJectiveArray.forEach(function(t){e+=1*t.teacherScore}),this.testpaperList.studentScore=e},_saveAnswer:function(){var e=this,t={userId:JSON.parse(this.$route.params.data).studentId,answerId:JSON.parse(this.$route.params.data).answerId,answer:{name:this.testpaperList.name,score:this.testpaperList.score,answerScore:this.testpaperList.studentScore,classScore:this.testpaperList.classScore,time:this.testpaperList.time,answerId:JSON.parse(this.$route.params.data).answerId,answerArr:this.answerArr,state:"1",answerList:{singleChoiceArray:this.singleChoiceArray,multipleChoiceArray:this.multipleChoiceArray,judgeArray:this.judgeArray,subJectiveArray:this.subJectiveArray}}};Object(r.r)(t).then(function(t){0!=t.code&&e.$message.error(t.msg),e.$message.success(t.msg)});var s={answerId:JSON.parse(this.$route.params.data).answerId,userId:sessionStorage.getItem("userId"),score:this.testpaperList.studentScore*this.fencheng.student/10+this.testpaperList.classScore*this.fencheng.class/10,answerScore:this.testpaperList.studentScore,classScore:this.testpaperList.classScore,answerp:this.fencheng.student,classp:this.fencheng.class,name:this.testpaperList.name,studentName:JSON.parse(this.$route.params.data).studentname};Object(r.n)(s).then(function(e){})}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("el-row",{staticClass:"control"},[s("el-col",[s("p",{staticClass:"moduleTitle"},[s("span",{staticClass:"backToText",on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回上级 | ")]),e._v("答题信息")]),e._v(" "),s("el-form",{staticClass:"formStyle",attrs:{model:e.testpaperList}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"试题名称:"}},[s("span",[e._v(e._s(e.testpaperList.name))])])],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"考试时长(min):"}},[s("span",[e._v(e._s(e.testpaperList.time))])])],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"试题总分:"}},[s("span",[e._v(e._s(e.testpaperList.score))])])],1)],1)],1)],1),e._v(" "),s("el-row",[0!==e.singleChoiceArray.length||0!==e.multipleChoiceArray.length||0!==e.judgeArray.length||0!==e.subJectiveArray.length?s("section",[s("p",{staticClass:"smallTitle"},[e._v("试题信息")]),e._v(" "),0!==e.singleChoiceArray.length?s("section",{staticClass:"sectionBlock"},[s("el-row",{staticClass:"smallTitle"},[e._v("单选")]),e._v(" "),e._l(e.singleChoiceArray,function(e,t){return s("x-single-choice",{key:e.key,attrs:{indexKey:t+1}})})],2):e._e(),e._v(" "),0!==e.multipleChoiceArray.length?s("section",{staticClass:"sectionBlock"},[s("el-row",{staticClass:"smallTitle"},[e._v("多选")]),e._v(" "),e._l(e.multipleChoiceArray,function(e,t){return s("x-multiple-choice",{key:e.key,attrs:{indexKey:t+1}})})],2):e._e(),e._v(" "),0!==e.judgeArray.length?s("section",{staticClass:"sectionBlock"},[s("el-row",{staticClass:"smallTitle"},[e._v("判断")]),e._v(" "),e._l(e.judgeArray,function(e,t){return s("x-judge",{key:e.key,attrs:{indexKey:t+1}})})],2):e._e(),e._v(" "),0!==e.subJectiveArray.length?s("section",{staticClass:"sectionBlock"},[s("el-row",{staticClass:"smallTitle"},[e._v("主观题")]),e._v(" "),e._l(e.subJectiveArray,function(e,t){return s("x-sub-jective",{key:e.key,attrs:{indexKey:t+1}})})],2):e._e()]):s("section",[s("div",{staticClass:"noTopic"},[s("p",[e._v("暂无试题信息...")])])])]),e._v(" "),s("aside",{staticClass:"fixedBtn"},[s("section",{staticClass:"rowbtn"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.photoVisible=!0}}},[e._v("查看图片")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sureScore()}}},[e._v("批阅完成")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.zuobi()}}},[e._v("判定作弊")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"查看图片",visible:e.photoVisible,width:"30%"},on:{"update:visible":function(t){e.photoVisible=t}}},[s("div",{staticClass:"demo-image__preview"},e._l(e.answerArr,function(t,r){return s("el-image",{key:r,staticStyle:{width:"100px",height:"100px"},attrs:{src:t,"preview-src-list":e.answerArr}})}),1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.photoVisible=!1}}},[e._v("关闭")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"分数计算",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-form",[s("el-form-item",{attrs:{label:"试题分数"}},[s("el-input",{attrs:{disabled:""},model:{value:e.testpaperList.studentScore,callback:function(t){e.$set(e.testpaperList,"studentScore",t)},expression:"testpaperList.studentScore"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分数分成"}},[s("el-input",{model:{value:e.fencheng.student,callback:function(t){e.$set(e.fencheng,"student",t)},expression:"fencheng.student"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"平时分数"}},[s("el-input",{model:{value:e.testpaperList.classScore,callback:function(t){e.$set(e.testpaperList,"classScore",t)},expression:"testpaperList.classScore"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分数分成"}},[s("el-input",{model:{value:e.fencheng.class,callback:function(t){e.$set(e.fencheng,"class",t)},expression:"fencheng.class"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"总分"}},[e._v("\n        "+e._s(e.testpaperList.studentScore*e.fencheng.student/10+e.testpaperList.classScore*e.fencheng.class/10)+"\n      ")])],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e._saveAnswer()}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var w=s("VU/8")(f,v,!1,function(e){s("dOiP")},"data-v-0eeb5e5d",null);t.default=w.exports},dOiP:function(e,t){}});
//# sourceMappingURL=10.35915d5111868a4b10fe.js.map